{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anjal\\\\Downloads\\\\lms\\\\lms\\\\src\\\\pages\\\\TeacherDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { getDocs, collection, addDoc, updateDoc, deleteDoc, doc, onSnapshot, serverTimestamp } from 'firebase/firestore';\nimport { db } from '../utils/firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TeacherDashboard() {\n  _s();\n  var _tests$find;\n  const {\n    user\n  } = useAuth();\n\n  // Course state\n  const [courses, setCourses] = useState([]);\n  const [form, setForm] = useState({\n    title: '',\n    details: '',\n    price: '',\n    file: null\n  });\n\n  // Edit course state\n  const [editId, setEditId] = useState(null);\n  const [editForm, setEditForm] = useState({\n    title: '',\n    details: '',\n    price: ''\n  });\n\n  // Test feature states\n  const [tests, setTests] = useState([]);\n  const [testForm, setTestForm] = useState({\n    title: '',\n    questions: [{\n      question: '',\n      options: ['', '', '', ''],\n      answer: 0\n    }]\n  });\n  const [attemptTestId, setAttemptTestId] = useState(null);\n  const [attemptAnswers, setAttemptAnswers] = useState([]);\n  const [timer, setTimer] = useState(0);\n  const [showResult, setShowResult] = useState(false);\n  const [score, setScore] = useState(0);\n  const [loading, setLoading] = useState(true);\n\n  // Real-time listener for courses\n  useEffect(() => {\n    const unsubscribe = onSnapshot(collection(db, 'courses'), snapshot => {\n      const coursesData = [];\n      snapshot.forEach(doc => {\n        coursesData.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      // Sort by upload date (newest first)\n      coursesData.sort((a, b) => {\n        var _a$uploadDate, _a$uploadDate$toDate, _b$uploadDate, _b$uploadDate$toDate;\n        const dateA = ((_a$uploadDate = a.uploadDate) === null || _a$uploadDate === void 0 ? void 0 : (_a$uploadDate$toDate = _a$uploadDate.toDate) === null || _a$uploadDate$toDate === void 0 ? void 0 : _a$uploadDate$toDate.call(_a$uploadDate)) || new Date(a.uploadDate);\n        const dateB = ((_b$uploadDate = b.uploadDate) === null || _b$uploadDate === void 0 ? void 0 : (_b$uploadDate$toDate = _b$uploadDate.toDate) === null || _b$uploadDate$toDate === void 0 ? void 0 : _b$uploadDate$toDate.call(_b$uploadDate)) || new Date(b.uploadDate);\n        return dateB - dateA;\n      });\n      setCourses(coursesData);\n      setLoading(false);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Real-time listener for tests\n  useEffect(() => {\n    const unsubscribe = onSnapshot(collection(db, 'tests'), snapshot => {\n      const testsData = [];\n      snapshot.forEach(doc => {\n        testsData.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setTests(testsData);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  // Handle form input changes\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n\n  // Add new course to Firebase\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!form.title || !form.price) return;\n    try {\n      await addDoc(collection(db, 'courses'), {\n        title: form.title,\n        details: form.details,\n        price: Number(form.price),\n        uploadDate: serverTimestamp(),\n        uploadedBy: user.uid,\n        uploaderEmail: user.email,\n        uploaderRole: 'teacher',\n        premium: Number(form.price) > 0,\n        fileUrl: '#' // In real app, upload file to Firebase Storage\n      });\n      setForm({\n        title: '',\n        details: '',\n        price: '',\n        file: null\n      });\n      alert('Course uploaded successfully!');\n    } catch (error) {\n      console.error('Error uploading course:', error);\n      alert('Error uploading course. Please try again.');\n    }\n  };\n\n  // Start editing\n  const editCourse = id => {\n    const course = courses.find(c => c.id === id);\n    if (course.uploadedBy !== user.uid) {\n      alert('You can only edit your own courses!');\n      return;\n    }\n    setEditId(id);\n    setEditForm({\n      title: course.title,\n      details: course.details,\n      price: course.price\n    });\n  };\n\n  // Handle edit input\n  const handleEditChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Save edit to Firebase\n  const saveEdit = async id => {\n    try {\n      await updateDoc(doc(db, 'courses', id), {\n        title: editForm.title,\n        details: editForm.details,\n        price: Number(editForm.price),\n        premium: Number(editForm.price) > 0,\n        lastModified: serverTimestamp(),\n        lastModifiedBy: user.uid\n      });\n      setEditId(null);\n      alert('Course updated successfully!');\n    } catch (error) {\n      console.error('Error updating course:', error);\n      alert('Error updating course. Please try again.');\n    }\n  };\n\n  // Cancel edit\n  const cancelEdit = () => setEditId(null);\n\n  // Delete course from Firebase\n  const deleteCourse = async id => {\n    const course = courses.find(c => c.id === id);\n    if (course.uploadedBy !== user.uid) {\n      alert('You can only delete your own courses!');\n      return;\n    }\n    if (window.confirm('Are you sure you want to delete this course?')) {\n      try {\n        await deleteDoc(doc(db, 'courses', id));\n        alert('Course deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting course:', error);\n        alert('Error deleting course. Please try again.');\n      }\n    }\n  };\n\n  // Test form handlers\n  const handleTestFormChange = (e, qIdx, optIdx) => {\n    const {\n      name,\n      value\n    } = e.target;\n    setTestForm(prev => {\n      const updated = {\n        ...prev\n      };\n      if (name === 'title') {\n        updated.title = value;\n      } else if (name === 'question') {\n        updated.questions[qIdx].question = value;\n      } else if (name === 'option') {\n        updated.questions[qIdx].options[optIdx] = value;\n      } else if (name === 'answer') {\n        updated.questions[qIdx].answer = Number(value);\n      }\n      return {\n        ...updated\n      };\n    });\n  };\n  const addQuestion = () => {\n    setTestForm(prev => ({\n      ...prev,\n      questions: [...prev.questions, {\n        question: '',\n        options: ['', '', '', ''],\n        answer: 0\n      }]\n    }));\n  };\n  const handleTestSubmit = async e => {\n    e.preventDefault();\n    if (!testForm.title) return;\n    try {\n      await addDoc(collection(db, 'tests'), {\n        ...testForm,\n        createdAt: serverTimestamp(),\n        createdBy: user.uid,\n        creatorEmail: user.email,\n        creatorRole: 'teacher'\n      });\n      setTestForm({\n        title: '',\n        questions: [{\n          question: '',\n          options: ['', '', '', ''],\n          answer: 0\n        }]\n      });\n      alert('Test created successfully!');\n    } catch (error) {\n      console.error('Error creating test:', error);\n      alert('Error creating test. Please try again.');\n    }\n  };\n\n  // Delete test\n  const deleteTest = async testId => {\n    const test = tests.find(t => t.id === testId);\n    if (test.createdBy !== user.uid) {\n      alert('You can only delete your own tests!');\n      return;\n    }\n    if (window.confirm('Are you sure you want to delete this test?')) {\n      try {\n        await deleteDoc(doc(db, 'tests', testId));\n        alert('Test deleted successfully!');\n      } catch (error) {\n        console.error('Error deleting test:', error);\n        alert('Error deleting test. Please try again.');\n      }\n    }\n  };\n\n  // Attempt test handlers (for preview)\n  const startAttempt = testId => {\n    setAttemptTestId(testId);\n    setAttemptAnswers(Array(tests.find(t => t.id === testId).questions.length).fill(null));\n    setShowResult(false);\n    setScore(0);\n    setTimer(60); // 60 seconds for demo\n  };\n  useEffect(() => {\n    let interval = null;\n    if (attemptTestId && timer > 0) {\n      interval = setInterval(() => setTimer(t => t - 1), 1000);\n    }\n    if (timer === 0 && attemptTestId) {\n      handleSubmitAttempt();\n    }\n    return () => clearInterval(interval);\n    // eslint-disable-next-line\n  }, [attemptTestId, timer]);\n  const handleAttemptChange = (qIdx, value) => {\n    setAttemptAnswers(prev => {\n      const updated = [...prev];\n      updated[qIdx] = Number(value);\n      return updated;\n    });\n  };\n  const handleSubmitAttempt = () => {\n    const test = tests.find(t => t.id === attemptTestId);\n    let correct = 0;\n    test.questions.forEach((q, idx) => {\n      if (attemptAnswers[idx] === q.answer) correct++;\n    });\n    setScore(correct);\n    setShowResult(true);\n    setAttemptTestId(null);\n    setTimer(0);\n  };\n  const formatDate = timestamp => {\n    if (!timestamp) return 'Unknown';\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n    return date.toLocaleDateString();\n  };\n\n  // Filter courses uploaded by current teacher\n  const teacherCourses = courses.filter(course => course.uploadedBy === (user === null || user === void 0 ? void 0 : user.uid));\n  const teacherTests = tests.filter(test => test.createdBy === (user === null || user === void 0 ? void 0 : user.uid));\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xl\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-purple-800 mb-2\",\n      children: \"Teacher Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 mb-6\",\n      children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 shadow rounded-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-4\",\n          children: \"Upload New Course\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"space-y-3\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            value: form.title,\n            onChange: handleChange,\n            placeholder: \"Course Title\",\n            className: \"w-full px-4 py-2 border rounded\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"details\",\n            value: form.details,\n            onChange: handleChange,\n            placeholder: \"Course Details\",\n            className: \"w-full px-4 py-2 border rounded\",\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"price\",\n            value: form.price,\n            onChange: handleChange,\n            placeholder: \"Price (0 for free)\",\n            className: \"w-full px-4 py-2 border rounded\",\n            required: true,\n            min: \"0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"file\",\n            className: \"w-full\",\n            accept: \"video/*,application/pdf\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700\",\n            type: \"submit\",\n            children: \"Upload Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 shadow rounded-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold mb-4\",\n          children: [\"Your Courses (\", teacherCourses.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3 max-h-96 overflow-y-auto\",\n          children: teacherCourses.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-gray-400 text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No courses uploaded yet.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"Upload your first course to get started!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this) : teacherCourses.map(course => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-4\",\n            children: editId === course.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"title\",\n                value: editForm.title,\n                onChange: handleEditChange,\n                className: \"w-full border px-3 py-2 rounded\",\n                placeholder: \"Course Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"price\",\n                value: editForm.price,\n                onChange: handleEditChange,\n                className: \"w-full border px-3 py-2 rounded\",\n                placeholder: \"Price\",\n                min: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"details\",\n                value: editForm.details,\n                onChange: handleEditChange,\n                className: \"w-full border px-3 py-2 rounded\",\n                placeholder: \"Course Details\",\n                rows: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\",\n                  onClick: () => saveEdit(course.id),\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700\",\n                  onClick: cancelEdit,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-lg mb-2\",\n                children: course.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600 mb-2\",\n                children: course.details\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Uploaded: \", formatDate(course.uploadDate)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `ml-2 px-2 py-1 rounded text-xs font-bold ${course.premium ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'}`,\n                    children: course.premium ? `₹${course.price}` : 'Free'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700\",\n                    onClick: () => editCourse(course.id),\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700\",\n                    onClick: () => deleteCourse(course.id),\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 21\n            }, this)\n          }, course.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 bg-white rounded-xl shadow p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-4\",\n        children: [\"All Courses in System (\", courses.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600 mb-4\",\n        children: \"View all courses uploaded by teachers and admins. You can only edit/delete your own courses.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this), courses.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400\",\n        children: \"No courses in the system yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3 max-h-96 overflow-y-auto\",\n        children: courses.map(course => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded p-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"font-semibold text-lg\",\n                children: course.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600 mb-1\",\n                children: course.details\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-4 text-xs text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Uploaded: \", formatDate(course.uploadDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"By: \", course.uploaderEmail]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Role: \", course.uploaderRole]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-block mt-2 px-2 py-1 rounded text-xs font-bold ${course.premium ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'}`,\n                children: course.premium ? `Premium ₹${course.price}` : 'Free'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 19\n            }, this), course.uploadedBy === (user === null || user === void 0 ? void 0 : user.uid) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-4 text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded\",\n              children: \"Your Course\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 17\n          }, this)\n        }, course.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-10 bg-white p-6 shadow rounded-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: \"Create Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleTestSubmit,\n        className: \"space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          value: testForm.title,\n          onChange: handleTestFormChange,\n          placeholder: \"Test Title\",\n          className: \"w-full px-4 py-2 border rounded\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this), testForm.questions.map((q, qIdx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 border p-3 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"question\",\n            value: q.question,\n            onChange: e => handleTestFormChange(e, qIdx),\n            placeholder: `Question ${qIdx + 1}`,\n            className: \"w-full px-2 py-1 border rounded mb-2\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-2\",\n            children: q.options.map((opt, optIdx) => /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"option\",\n              value: opt,\n              onChange: e => handleTestFormChange(e, qIdx, optIdx),\n              placeholder: `Option ${optIdx + 1}`,\n              className: \"px-2 py-1 border rounded\",\n              required: true\n            }, optIdx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium mr-2\",\n              children: \"Correct Option:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"answer\",\n              value: q.answer,\n              onChange: e => handleTestFormChange(e, qIdx),\n              className: \"border rounded px-2 py-1\",\n              children: q.options.map((_, idx) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: idx,\n                children: [\"Option \", idx + 1]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 15\n          }, this)]\n        }, qIdx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: addQuestion,\n            className: \"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300\",\n            children: \"Add Question\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700\",\n            children: \"Create Test\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold mt-8 mb-4\",\n        children: [\"Your Tests (\", teacherTests.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 9\n      }, this), teacherTests.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400\",\n        children: \"No tests created yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: teacherTests.map(test => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded p-3 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: test.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-sm text-gray-500\",\n              children: [\"(\", test.questions.length, \" questions)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-yellow-600 text-white px-3 py-1 rounded text-sm hover:bg-yellow-700\",\n              onClick: () => startAttempt(test.id),\n              children: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700\",\n              onClick: () => deleteTest(test.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 17\n          }, this)]\n        }, test.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold mt-8 mb-4\",\n        children: [\"All Tests in System (\", tests.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600 mb-4\",\n        children: \"View all tests created by teachers and admins. You can only edit/delete your own tests.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 9\n      }, this), tests.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400\",\n        children: \"No tests in the system yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: tests.map(test => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded p-3 flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: test.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-sm text-gray-500\",\n              children: [\"(\", test.questions.length, \" questions)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-400\",\n              children: [\"Created by: \", test.creatorEmail, \" (\", test.creatorRole, \")\", test.createdBy === (user === null || user === void 0 ? void 0 : user.uid) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 bg-purple-100 text-purple-800 px-2 py-1 rounded\",\n                children: \"Your Test\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-x-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-yellow-600 text-white px-3 py-1 rounded text-sm hover:bg-yellow-700\",\n              onClick: () => startAttempt(test.id),\n              children: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 17\n          }, this)]\n        }, test.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 599,\n        columnNumber: 11\n      }, this), attemptTestId && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-bold mb-2\",\n            children: [\"Test Preview (Time left: \", timer, \"s)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 15\n          }, this), tests.find(t => t.id === attemptTestId).questions.map((q, qIdx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold mb-2\",\n              children: [qIdx + 1, \". \", q.question]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: q.options.map((opt, optIdx) => /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block cursor-pointer hover:bg-gray-50 p-1 rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: `q${qIdx}`,\n                  value: optIdx,\n                  checked: attemptAnswers[qIdx] === optIdx,\n                  onChange: () => handleAttemptChange(qIdx, optIdx),\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 640,\n                  columnNumber: 25\n                }, this), opt]\n              }, optIdx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 19\n            }, this)]\n          }, qIdx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\",\n              onClick: handleSubmitAttempt,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700\",\n              onClick: () => setAttemptTestId(null),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 11\n      }, this), showResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded shadow-xl w-full max-w-sm text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-bold mb-2\",\n            children: \"Test Complete!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-4\",\n            children: [\"Your Score: \", score, \"/\", ((_tests$find = tests.find(t => t.id === attemptTestId)) === null || _tests$find === void 0 ? void 0 : _tests$find.questions.length) || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700\",\n            onClick: () => setShowResult(false),\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n}\n_s(TeacherDashboard, \"b7NXH6n+HQiWxgbZoe3vscbUgaI=\", false, function () {\n  return [useAuth];\n});\n_c = TeacherDashboard;\nvar _c;\n$RefreshReg$(_c, \"TeacherDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","getDocs","collection","addDoc","updateDoc","deleteDoc","doc","onSnapshot","serverTimestamp","db","jsxDEV","_jsxDEV","TeacherDashboard","_s","_tests$find","user","courses","setCourses","form","setForm","title","details","price","file","editId","setEditId","editForm","setEditForm","tests","setTests","testForm","setTestForm","questions","question","options","answer","attemptTestId","setAttemptTestId","attemptAnswers","setAttemptAnswers","timer","setTimer","showResult","setShowResult","score","setScore","loading","setLoading","unsubscribe","snapshot","coursesData","forEach","push","id","data","sort","a","b","_a$uploadDate","_a$uploadDate$toDate","_b$uploadDate","_b$uploadDate$toDate","dateA","uploadDate","toDate","call","Date","dateB","testsData","handleChange","e","name","value","files","target","prev","handleSubmit","preventDefault","Number","uploadedBy","uid","uploaderEmail","email","uploaderRole","premium","fileUrl","alert","error","console","editCourse","course","find","c","handleEditChange","saveEdit","lastModified","lastModifiedBy","cancelEdit","deleteCourse","window","confirm","handleTestFormChange","qIdx","optIdx","updated","addQuestion","handleTestSubmit","createdAt","createdBy","creatorEmail","creatorRole","deleteTest","testId","test","t","startAttempt","Array","length","fill","interval","setInterval","handleSubmitAttempt","clearInterval","handleAttemptChange","correct","q","idx","formatDate","timestamp","date","toLocaleDateString","teacherCourses","filter","teacherTests","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","placeholder","required","rows","min","accept","map","onClick","opt","_","checked","_c","$RefreshReg$"],"sources":["C:/Users/anjal/Downloads/lms/lms/src/pages/TeacherDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { \r\n  getDocs, \r\n  collection, \r\n  addDoc, \r\n  updateDoc, \r\n  deleteDoc, \r\n  doc,\r\n  onSnapshot,\r\n  serverTimestamp \r\n} from 'firebase/firestore';\r\nimport { db } from '../utils/firebase';\r\n\r\nexport default function TeacherDashboard() {\r\n  const { user } = useAuth();\r\n\r\n  // Course state\r\n  const [courses, setCourses] = useState([]);\r\n  const [form, setForm] = useState({\r\n    title: '',\r\n    details: '',\r\n    price: '',\r\n    file: null,\r\n  });\r\n\r\n  // Edit course state\r\n  const [editId, setEditId] = useState(null);\r\n  const [editForm, setEditForm] = useState({\r\n    title: '',\r\n    details: '',\r\n    price: '',\r\n  });\r\n\r\n  // Test feature states\r\n  const [tests, setTests] = useState([]);\r\n  const [testForm, setTestForm] = useState({\r\n    title: '',\r\n    questions: [\r\n      { question: '', options: ['', '', '', ''], answer: 0 }\r\n    ]\r\n  });\r\n  const [attemptTestId, setAttemptTestId] = useState(null);\r\n  const [attemptAnswers, setAttemptAnswers] = useState([]);\r\n  const [timer, setTimer] = useState(0);\r\n  const [showResult, setShowResult] = useState(false);\r\n  const [score, setScore] = useState(0);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Real-time listener for courses\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(collection(db, 'courses'), (snapshot) => {\r\n      const coursesData = [];\r\n      snapshot.forEach((doc) => {\r\n        coursesData.push({ id: doc.id, ...doc.data() });\r\n      });\r\n      // Sort by upload date (newest first)\r\n      coursesData.sort((a, b) => {\r\n        const dateA = a.uploadDate?.toDate?.() || new Date(a.uploadDate);\r\n        const dateB = b.uploadDate?.toDate?.() || new Date(b.uploadDate);\r\n        return dateB - dateA;\r\n      });\r\n      setCourses(coursesData);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Real-time listener for tests\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(collection(db, 'tests'), (snapshot) => {\r\n      const testsData = [];\r\n      snapshot.forEach((doc) => {\r\n        testsData.push({ id: doc.id, ...doc.data() });\r\n      });\r\n      setTests(testsData);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Handle form input changes\r\n  const handleChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      [name]: files ? files[0] : value,\r\n    }));\r\n  };\r\n\r\n  // Add new course to Firebase\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!form.title || !form.price) return;\r\n    \r\n    try {\r\n      await addDoc(collection(db, 'courses'), {\r\n        title: form.title,\r\n        details: form.details,\r\n        price: Number(form.price),\r\n        uploadDate: serverTimestamp(),\r\n        uploadedBy: user.uid,\r\n        uploaderEmail: user.email,\r\n        uploaderRole: 'teacher',\r\n        premium: Number(form.price) > 0,\r\n        fileUrl: '#' // In real app, upload file to Firebase Storage\r\n      });\r\n      \r\n      setForm({ title: '', details: '', price: '', file: null });\r\n      alert('Course uploaded successfully!');\r\n    } catch (error) {\r\n      console.error('Error uploading course:', error);\r\n      alert('Error uploading course. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Start editing\r\n  const editCourse = (id) => {\r\n    const course = courses.find((c) => c.id === id);\r\n    if (course.uploadedBy !== user.uid) {\r\n      alert('You can only edit your own courses!');\r\n      return;\r\n    }\r\n    setEditId(id);\r\n    setEditForm({\r\n      title: course.title,\r\n      details: course.details,\r\n      price: course.price,\r\n    });\r\n  };\r\n\r\n  // Handle edit input\r\n  const handleEditChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEditForm((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  // Save edit to Firebase\r\n  const saveEdit = async (id) => {\r\n    try {\r\n      await updateDoc(doc(db, 'courses', id), {\r\n        title: editForm.title,\r\n        details: editForm.details,\r\n        price: Number(editForm.price),\r\n        premium: Number(editForm.price) > 0,\r\n        lastModified: serverTimestamp(),\r\n        lastModifiedBy: user.uid\r\n      });\r\n      setEditId(null);\r\n      alert('Course updated successfully!');\r\n    } catch (error) {\r\n      console.error('Error updating course:', error);\r\n      alert('Error updating course. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Cancel edit\r\n  const cancelEdit = () => setEditId(null);\r\n\r\n  // Delete course from Firebase\r\n  const deleteCourse = async (id) => {\r\n    const course = courses.find(c => c.id === id);\r\n    if (course.uploadedBy !== user.uid) {\r\n      alert('You can only delete your own courses!');\r\n      return;\r\n    }\r\n    \r\n    if (window.confirm('Are you sure you want to delete this course?')) {\r\n      try {\r\n        await deleteDoc(doc(db, 'courses', id));\r\n        alert('Course deleted successfully!');\r\n      } catch (error) {\r\n        console.error('Error deleting course:', error);\r\n        alert('Error deleting course. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Test form handlers\r\n  const handleTestFormChange = (e, qIdx, optIdx) => {\r\n    const { name, value } = e.target;\r\n    setTestForm(prev => {\r\n      const updated = { ...prev };\r\n      if (name === 'title') {\r\n        updated.title = value;\r\n      } else if (name === 'question') {\r\n        updated.questions[qIdx].question = value;\r\n      } else if (name === 'option') {\r\n        updated.questions[qIdx].options[optIdx] = value;\r\n      } else if (name === 'answer') {\r\n        updated.questions[qIdx].answer = Number(value);\r\n      }\r\n      return { ...updated };\r\n    });\r\n  };\r\n\r\n  const addQuestion = () => {\r\n    setTestForm(prev => ({\r\n      ...prev,\r\n      questions: [\r\n        ...prev.questions,\r\n        { question: '', options: ['', '', '', ''], answer: 0 }\r\n      ]\r\n    }));\r\n  };\r\n\r\n  const handleTestSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!testForm.title) return;\r\n    \r\n    try {\r\n      await addDoc(collection(db, 'tests'), {\r\n        ...testForm,\r\n        createdAt: serverTimestamp(),\r\n        createdBy: user.uid,\r\n        creatorEmail: user.email,\r\n        creatorRole: 'teacher'\r\n      });\r\n      \r\n      setTestForm({\r\n        title: '',\r\n        questions: [\r\n          { question: '', options: ['', '', '', ''], answer: 0 }\r\n        ]\r\n      });\r\n      alert('Test created successfully!');\r\n    } catch (error) {\r\n      console.error('Error creating test:', error);\r\n      alert('Error creating test. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Delete test\r\n  const deleteTest = async (testId) => {\r\n    const test = tests.find(t => t.id === testId);\r\n    if (test.createdBy !== user.uid) {\r\n      alert('You can only delete your own tests!');\r\n      return;\r\n    }\r\n    \r\n    if (window.confirm('Are you sure you want to delete this test?')) {\r\n      try {\r\n        await deleteDoc(doc(db, 'tests', testId));\r\n        alert('Test deleted successfully!');\r\n      } catch (error) {\r\n        console.error('Error deleting test:', error);\r\n        alert('Error deleting test. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Attempt test handlers (for preview)\r\n  const startAttempt = (testId) => {\r\n    setAttemptTestId(testId);\r\n    setAttemptAnswers(Array(tests.find(t => t.id === testId).questions.length).fill(null));\r\n    setShowResult(false);\r\n    setScore(0);\r\n    setTimer(60); // 60 seconds for demo\r\n  };\r\n\r\n  useEffect(() => {\r\n    let interval = null;\r\n    if (attemptTestId && timer > 0) {\r\n      interval = setInterval(() => setTimer(t => t - 1), 1000);\r\n    }\r\n    if (timer === 0 && attemptTestId) {\r\n      handleSubmitAttempt();\r\n    }\r\n    return () => clearInterval(interval);\r\n    // eslint-disable-next-line\r\n  }, [attemptTestId, timer]);\r\n\r\n  const handleAttemptChange = (qIdx, value) => {\r\n    setAttemptAnswers(prev => {\r\n      const updated = [...prev];\r\n      updated[qIdx] = Number(value);\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const handleSubmitAttempt = () => {\r\n    const test = tests.find(t => t.id === attemptTestId);\r\n    let correct = 0;\r\n    test.questions.forEach((q, idx) => {\r\n      if (attemptAnswers[idx] === q.answer) correct++;\r\n    });\r\n    setScore(correct);\r\n    setShowResult(true);\r\n    setAttemptTestId(null);\r\n    setTimer(0);\r\n  };\r\n\r\n  const formatDate = (timestamp) => {\r\n    if (!timestamp) return 'Unknown';\r\n    const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  // Filter courses uploaded by current teacher\r\n  const teacherCourses = courses.filter(course => course.uploadedBy === user?.uid);\r\n  const teacherTests = tests.filter(test => test.createdBy === user?.uid);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-xl\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-6\">\r\n      <h2 className=\"text-3xl font-bold text-purple-800 mb-2\">Teacher Dashboard</h2>\r\n      <p className=\"text-gray-600 mb-6\">Welcome, {user?.email}</p>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {/* Upload Course Section */}\r\n        <div className=\"bg-white p-6 shadow rounded-xl\">\r\n          <h3 className=\"text-xl font-semibold mb-4\">Upload New Course</h3>\r\n          <form className=\"space-y-3\" onSubmit={handleSubmit}>\r\n            <input\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={form.title}\r\n              onChange={handleChange}\r\n              placeholder=\"Course Title\"\r\n              className=\"w-full px-4 py-2 border rounded\"\r\n              required\r\n            />\r\n            <textarea\r\n              name=\"details\"\r\n              value={form.details}\r\n              onChange={handleChange}\r\n              placeholder=\"Course Details\"\r\n              className=\"w-full px-4 py-2 border rounded\"\r\n              rows=\"3\"\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              name=\"price\"\r\n              value={form.price}\r\n              onChange={handleChange}\r\n              placeholder=\"Price (0 for free)\"\r\n              className=\"w-full px-4 py-2 border rounded\"\r\n              required\r\n              min=\"0\"\r\n            />\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              className=\"w-full\"\r\n              accept=\"video/*,application/pdf\"\r\n              onChange={handleChange}\r\n            />\r\n            <button className=\"w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700\" type=\"submit\">\r\n              Upload Course\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        {/* View Your Courses */}\r\n        <div className=\"bg-white p-6 shadow rounded-xl\">\r\n          <h3 className=\"text-xl font-semibold mb-4\">Your Courses ({teacherCourses.length})</h3>\r\n          <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n            {teacherCourses.length === 0 ? (\r\n              <div className=\"text-gray-400 text-center py-8\">\r\n                <p>No courses uploaded yet.</p>\r\n                <p className=\"text-sm\">Upload your first course to get started!</p>\r\n              </div>\r\n            ) : (\r\n              teacherCourses.map((course) => (\r\n                <div key={course.id} className=\"border rounded-lg p-4\">\r\n                  {editId === course.id ? (\r\n                    <div className=\"space-y-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"title\"\r\n                        value={editForm.title}\r\n                        onChange={handleEditChange}\r\n                        className=\"w-full border px-3 py-2 rounded\"\r\n                        placeholder=\"Course Title\"\r\n                      />\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        value={editForm.price}\r\n                        onChange={handleEditChange}\r\n                        className=\"w-full border px-3 py-2 rounded\"\r\n                        placeholder=\"Price\"\r\n                        min=\"0\"\r\n                      />\r\n                      <textarea\r\n                        name=\"details\"\r\n                        value={editForm.details}\r\n                        onChange={handleEditChange}\r\n                        className=\"w-full border px-3 py-2 rounded\"\r\n                        placeholder=\"Course Details\"\r\n                        rows=\"3\"\r\n                      />\r\n                      <div className=\"flex space-x-2\">\r\n                        <button\r\n                          className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n                          onClick={() => saveEdit(course.id)}\r\n                        >\r\n                          Save\r\n                        </button>\r\n                        <button\r\n                          className=\"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700\"\r\n                          onClick={cancelEdit}\r\n                        >\r\n                          Cancel\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div>\r\n                      <h4 className=\"font-semibold text-lg mb-2\">{course.title}</h4>\r\n                      <p className=\"text-sm text-gray-600 mb-2\">{course.details}</p>\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div className=\"text-xs text-gray-500\">\r\n                          <span>Uploaded: {formatDate(course.uploadDate)}</span>\r\n                          <span className={`ml-2 px-2 py-1 rounded text-xs font-bold ${\r\n                            course.premium ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'\r\n                          }`}>\r\n                            {course.premium ? `₹${course.price}` : 'Free'}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"space-x-2\">\r\n                          <button\r\n                            className=\"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700\"\r\n                            onClick={() => editCourse(course.id)}\r\n                          >\r\n                            Edit\r\n                          </button>\r\n                          <button\r\n                            className=\"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700\"\r\n                            onClick={() => deleteCourse(course.id)}\r\n                          >\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* All Courses (Read-only view) */}\r\n      <div className=\"mt-6 bg-white rounded-xl shadow p-6\">\r\n        <h4 className=\"text-lg font-semibold mb-4\">All Courses in System ({courses.length})</h4>\r\n        <div className=\"text-sm text-gray-600 mb-4\">\r\n          View all courses uploaded by teachers and admins. You can only edit/delete your own courses.\r\n        </div>\r\n        {courses.length === 0 ? (\r\n          <p className=\"text-gray-400\">No courses in the system yet.</p>\r\n        ) : (\r\n          <div className=\"space-y-3 max-h-96 overflow-y-auto\">\r\n            {courses.map(course => (\r\n              <div key={course.id} className=\"border rounded p-3\">\r\n                <div className=\"flex justify-between items-start\">\r\n                  <div className=\"flex-1\">\r\n                    <h5 className=\"font-semibold text-lg\">{course.title}</h5>\r\n                    <p className=\"text-sm text-gray-600 mb-1\">{course.details}</p>\r\n                    <div className=\"flex items-center space-x-4 text-xs text-gray-500\">\r\n                      <span>Uploaded: {formatDate(course.uploadDate)}</span>\r\n                      <span>By: {course.uploaderEmail}</span>\r\n                      <span>Role: {course.uploaderRole}</span>\r\n                    </div>\r\n                    <span className={`inline-block mt-2 px-2 py-1 rounded text-xs font-bold ${\r\n                      course.premium ? 'bg-green-100 text-green-800' : 'bg-blue-100 text-blue-800'\r\n                    }`}>\r\n                      {course.premium ? `Premium ₹${course.price}` : 'Free'}\r\n                    </span>\r\n                  </div>\r\n                  {course.uploadedBy === user?.uid && (\r\n                    <span className=\"ml-4 text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded\">\r\n                      Your Course\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Test Feature */}\r\n      <div className=\"mt-10 bg-white p-6 shadow rounded-xl\">\r\n        <h3 className=\"text-xl font-semibold mb-4\">Create Test</h3>\r\n        <form onSubmit={handleTestSubmit} className=\"space-y-3\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={testForm.title}\r\n            onChange={handleTestFormChange}\r\n            placeholder=\"Test Title\"\r\n            className=\"w-full px-4 py-2 border rounded\"\r\n            required\r\n          />\r\n          {testForm.questions.map((q, qIdx) => (\r\n            <div key={qIdx} className=\"mb-2 border p-3 rounded\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"question\"\r\n                value={q.question}\r\n                onChange={e => handleTestFormChange(e, qIdx)}\r\n                placeholder={`Question ${qIdx + 1}`}\r\n                className=\"w-full px-2 py-1 border rounded mb-2\"\r\n                required\r\n              />\r\n              <div className=\"grid grid-cols-2 gap-2\">\r\n                {q.options.map((opt, optIdx) => (\r\n                  <input\r\n                    key={optIdx}\r\n                    type=\"text\"\r\n                    name=\"option\"\r\n                    value={opt}\r\n                    onChange={e => handleTestFormChange(e, qIdx, optIdx)}\r\n                    placeholder={`Option ${optIdx + 1}`}\r\n                    className=\"px-2 py-1 border rounded\"\r\n                    required\r\n                  />\r\n                ))}\r\n              </div>\r\n              <div className=\"mt-2\">\r\n                <label className=\"text-sm font-medium mr-2\">Correct Option:</label>\r\n                <select\r\n                  name=\"answer\"\r\n                  value={q.answer}\r\n                  onChange={e => handleTestFormChange(e, qIdx)}\r\n                  className=\"border rounded px-2 py-1\"\r\n                >\r\n                  {q.options.map((_, idx) => (\r\n                    <option key={idx} value={idx}>Option {idx + 1}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <div className=\"flex space-x-2\">\r\n            <button type=\"button\" onClick={addQuestion} className=\"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300\">\r\n              Add Question\r\n            </button>\r\n            <button type=\"submit\" className=\"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700\">\r\n              Create Test\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <h3 className=\"text-xl font-semibold mt-8 mb-4\">Your Tests ({teacherTests.length})</h3>\r\n        {teacherTests.length === 0 ? (\r\n          <p className=\"text-gray-400\">No tests created yet.</p>\r\n        ) : (\r\n          <div className=\"space-y-2\">\r\n            {teacherTests.map(test => (\r\n              <div key={test.id} className=\"border rounded p-3 flex justify-between items-center\">\r\n                <div>\r\n                  <span className=\"font-semibold\">{test.title}</span>\r\n                  <span className=\"ml-2 text-sm text-gray-500\">\r\n                    ({test.questions.length} questions)\r\n                  </span>\r\n                </div>\r\n                <div className=\"space-x-2\">\r\n                  <button\r\n                    className=\"bg-yellow-600 text-white px-3 py-1 rounded text-sm hover:bg-yellow-700\"\r\n                    onClick={() => startAttempt(test.id)}\r\n                  >\r\n                    Preview\r\n                  </button>\r\n                  <button\r\n                    className=\"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700\"\r\n                    onClick={() => deleteTest(test.id)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* All Tests (Read-only view) */}\r\n        <h3 className=\"text-xl font-semibold mt-8 mb-4\">All Tests in System ({tests.length})</h3>\r\n        <div className=\"text-sm text-gray-600 mb-4\">\r\n          View all tests created by teachers and admins. You can only edit/delete your own tests.\r\n        </div>\r\n        {tests.length === 0 ? (\r\n          <p className=\"text-gray-400\">No tests in the system yet.</p>\r\n        ) : (\r\n          <div className=\"space-y-2\">\r\n            {tests.map(test => (\r\n              <div key={test.id} className=\"border rounded p-3 flex justify-between items-center\">\r\n                <div>\r\n                  <span className=\"font-semibold\">{test.title}</span>\r\n                  <span className=\"ml-2 text-sm text-gray-500\">\r\n                    ({test.questions.length} questions)\r\n                  </span>\r\n                  <div className=\"text-xs text-gray-400\">\r\n                    Created by: {test.creatorEmail} ({test.creatorRole})\r\n                    {test.createdBy === user?.uid && (\r\n                      <span className=\"ml-2 bg-purple-100 text-purple-800 px-2 py-1 rounded\">\r\n                        Your Test\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"space-x-2\">\r\n                  <button\r\n                    className=\"bg-yellow-600 text-white px-3 py-1 rounded text-sm hover:bg-yellow-700\"\r\n                    onClick={() => startAttempt(test.id)}\r\n                  >\r\n                    Preview\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* Attempt Test Modal */}\r\n        {attemptTestId && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white p-6 rounded shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto\">\r\n              <h4 className=\"font-bold mb-2\">Test Preview (Time left: {timer}s)</h4>\r\n              {tests.find(t => t.id === attemptTestId).questions.map((q, qIdx) => (\r\n                <div key={qIdx} className=\"mb-4\">\r\n                  <div className=\"font-semibold mb-2\">{qIdx + 1}. {q.question}</div>\r\n                  <div className=\"space-y-1\">\r\n                    {q.options.map((opt, optIdx) => (\r\n                      <label key={optIdx} className=\"block cursor-pointer hover:bg-gray-50 p-1 rounded\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name={`q${qIdx}`}\r\n                          value={optIdx}\r\n                          checked={attemptAnswers[qIdx] === optIdx}\r\n                          onChange={() => handleAttemptChange(qIdx, optIdx)}\r\n                          className=\"mr-2\"\r\n                        />\r\n                        {opt}\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              <div className=\"flex space-x-2\">\r\n                <button\r\n                  className=\"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n                  onClick={handleSubmitAttempt}\r\n                >\r\n                  Submit\r\n                </button>\r\n                <button\r\n                  className=\"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700\"\r\n                  onClick={() => setAttemptTestId(null)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Show result */}\r\n        {showResult && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\r\n            <div className=\"bg-white p-6 rounded shadow-xl w-full max-w-sm text-center\">\r\n              <h4 className=\"font-bold mb-2\">Test Complete!</h4>\r\n              <p className=\"mb-4\">Your Score: {score}/{tests.find(t => t.id === attemptTestId)?.questions.length || 0}</p>\r\n              <button \r\n                className=\"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700\" \r\n                onClick={() => setShowResult(false)}\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}